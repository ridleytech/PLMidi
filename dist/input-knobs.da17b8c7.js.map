{"version":3,"sources":["src/input-knobs-master/input-knobs.js"],"names":["window","addEventListener","op","inputKnobsOptions","knobWidth","knobDiameter","knobHeight","sliderWidth","sliderDiameter","sliderHeight","switchWidth","switchDiameter","switchHeight","fgcolor","bgcolor","knobMode","sliderMode","styles","document","createElement","innerHTML","head","appendChild","makeKnobFrames","initSwitches","el","w","h","d","fg","bg","inputKnobs","refresh","src","getAttribute","st","defaultView","getComputedStyle","parseFloat","width","height","style","backgroundImage","minwh","Math","min","svg","btoa","initKnobs","redraw","ik","sensex","sensey","className","indexOf","itype","Infinity","backgroundSize","frameheight","sp","sprites","backgroundColor","borderRadius","fr","r","i","makeHSliderFrames","makeVSliderFrames","valrange","max","step","setValue","v","round","value","oldvalue","setAttribute","event","createEvent","initEvent","dispatchEvent","pointerdown","ev","focus","touches","rc","getBoundingClientRect","cx","left","right","cy","top","bottom","dx","clientX","dy","clientY","da","atan2","dv","PI","dragfrom","x","y","a","pointermove","pointerup","preventScroll","preventDefault","stopPropagation","shiftKey","removeEventListener","keydown","wheel","delta","deltaY","f","valueold","backgroundPosition","transform","refreshque","elem","querySelectorAll","length","procque","push","setInterval","q","shift"],"mappings":"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","file":"input-knobs.da17b8c7.js","sourceRoot":"..","sourcesContent":["window.addEventListener(\"load\",()=>{\n  let op=window.inputKnobsOptions||{};\n  op.knobWidth=op.knobWidth||op.knobDiameter||64;\n  op.knobHeight=op.knobHeight||op.knobDiameter||64;\n  op.sliderWidth=op.sliderWidth||op.sliderDiameter||128;\n  op.sliderHeight=op.sliderHeight||op.sliderDiameter||20;\n  op.switchWidth=op.switchWidth||op.switchDiameter||24;\n  op.switchHeight=op.switchHeight||op.switchDiameter||24;\n  op.fgcolor=op.fgcolor||\"#f00\";\n  op.bgcolor=op.bgcolor||\"#000\";\n  op.knobMode=op.knobMode||\"linear\";\n  op.sliderMode=op.sliderMode||\"relative\";\n  let styles=document.createElement(\"style\");\n  styles.innerHTML=\n`input[type=range].input-knob,input[type=range].input-slider{\n  -webkit-appearance:none;\n  -moz-appearance:none;\n  border:none;\n  box-sizing:border-box;\n  overflow:hidden;\n  background-repeat:no-repeat;\n  background-size:100% 100%;\n  background-position:0px 0%;\n  background-color:transparent;\n  touch-action:none;\n}\ninput[type=range].input-knob{\n  width:${op.knobWidth}px; height:${op.knobHeight}px;\n}\ninput[type=range].input-slider{\n  width:${op.sliderWidth}px; height:${op.sliderHeight}px;\n}\ninput[type=range].input-knob::-webkit-slider-thumb,input[type=range].input-slider::-webkit-slider-thumb{\n  -webkit-appearance:none;\n  opacity:0;\n}\ninput[type=range].input-knob::-moz-range-thumb,input[type=range].input-slider::-moz-range-thumb{\n  -moz-appearance:none;\n  height:0;\n  border:none;\n}\ninput[type=range].input-knob::-moz-range-track,input[type=range].input-slider::-moz-range-track{\n  -moz-appearance:none;\n  height:0;\n  border:none;\n}\ninput[type=checkbox].input-switch,input[type=radio].input-switch {\n  width:${op.switchWidth}px;\n  height:${op.switchHeight}px;\n  -webkit-appearance:none;\n  -moz-appearance:none;\n  background-size:100% 200%;\n  background-position:0% 0%;\n  background-repeat:no-repeat;\n  border:none;\n  border-radius:0;\n  background-color:transparent;\n}\ninput[type=checkbox].input-switch:checked,input[type=radio].input-switch:checked {\n  background-position:0% 100%;\n}`;\n  document.head.appendChild(styles);\n  let makeKnobFrames=(fr,fg,bg)=>{\n    let r=\n`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"64\" height=\"${fr*64}\" viewBox=\"0 0 64 ${fr*64}\" preserveAspectRatio=\"none\">\n<defs><g id=\"K\"><circle cx=\"32\" cy=\"32\" r=\"30\" fill=\"${bg}\"/>\n<line x1=\"32\" y1=\"28\" x2=\"32\" y2=\"7\" stroke-linecap=\"round\" stroke-width=\"6\" stroke=\"${fg}\"/></g></defs>\n<use xlink:href=\"#K\" transform=\"rotate(-135,32,32)\"/>`;\n    for(let i=1;i<fr;++i)\n      r+=`<use xlink:href=\"#K\" transform=\"translate(0,${64*i}) rotate(${-135+270*i/fr},32,32)\"/>`;\n    return r+\"</svg>\";\n  }\n  let makeHSliderFrames=(fr,fg,bg,w,h)=>{\n    let r=\n`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"${w}\" height=\"${fr*h}\" viewBox=\"0 0 ${w} ${fr*h}\" preserveAspectRatio=\"none\">\n<defs><g id=\"B\"><rect x=\"0\" y=\"0\" width=\"${w}\" height=\"${h}\" rx=\"${h/2}\" ry=\"${h/2}\" fill=\"${bg}\"/></g>\n<g id=\"K\"><circle x=\"${w/2}\" y=\"0\" r=\"${h/2*0.9}\" fill=\"${fg}\"/></g></defs>`;\n    for(let i=0;i<fr;++i){\n      r+=`<use xlink:href=\"#B\" transform=\"translate(0,${h*i})\"/>`;\n      r+=`<use xlink:href=\"#K\" transform=\"translate(${h/2+(w-h)*i/100},${h/2+h*i})\"/>`;\n    }\n    return r+\"</svg>\";\n  }\n  let makeVSliderFrames=(fr,fg,bg,w,h)=>{\n    let r=\n`<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"${w}\" height=\"${fr*h}\" viewBox=\"0 0 ${w} ${fr*h}\" preserveAspectRatio=\"none\">\n<defs><rect id=\"B\" x=\"0\" y=\"0\" width=\"${w}\" height=\"${h}\" rx=\"${w/2}\" ry=\"${w/2}\" fill=\"${bg}\"/>\n<circle id=\"K\" x=\"0\" y=\"0\" r=\"${w/2*0.9}\" fill=\"${fg}\"/></defs>`;\n    for(let i=0;i<fr;++i){\n      r+=`<use xlink:href=\"#B\" transform=\"translate(0,${h*i})\"/>`;\n      r+=`<use xlink:href=\"#K\" transform=\"translate(${w/2} ${h*(i+1)-w/2-i*(h-w)/100})\"/>`;\n    }\n    return r+\"</svg>\";\n  }\n  let initSwitches=(el)=>{\n    let w,h,d,fg,bg;\n    if(el.inputKnobs)\n      return;\n    el.inputKnobs={};\n    el.refresh=()=>{\n      let src=el.getAttribute(\"data-src\");\n      d=+el.getAttribute(\"data-diameter\");\n      let st=document.defaultView.getComputedStyle(el,null);\n      w=parseFloat(el.getAttribute(\"data-width\")||d||st.width);\n      h=parseFloat(el.getAttribute(\"data-height\")||d||st.height);\n      bg=el.getAttribute(\"data-bgcolor\")||op.bgcolor;\n      fg=el.getAttribute(\"data-fgcolor\")||op.fgcolor;\n      el.style.width=w+\"px\";\n      el.style.height=h+\"px\";\n      if(src)\n        el.style.backgroundImage=\"url(\"+src+\")\";\n      else {\n        let minwh=Math.min(w,h);\n        let svg=\n`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${w}\" height=\"${h*2}\" viewBox=\"0 0 ${w} ${h*2}\" preserveAspectRatio=\"none\">\n<g><rect fill=\"${bg}\" x=\"1\" y=\"1\" width=\"${w-2}\" height=\"${h-2}\" rx=\"${minwh*0.25}\" ry=\"${minwh*0.25}\"/>\n<rect fill=\"${bg}\" x=\"1\" y=\"${h+1}\" width=\"${w-2}\" height=\"${h-2}\" rx=\"${minwh*0.25}\" ry=\"${minwh*0.25}\"/>\n<circle fill=\"${fg}\" cx=\"${w*0.5}\" cy=\"${h*1.5}\" r=\"${minwh*0.25}\"/></g></svg>`;\n        el.style.backgroundImage=\"url(data:image/svg+xml;base64,\"+btoa(svg)+\")\";\n      }\n    };\n    el.refresh();\n  };\n  let initKnobs=(el)=>{\n    let w,h,d,fg,bg;\n    if(el.inputKnobs){\n      el.redraw();\n      return;\n    }\n    let ik=el.inputKnobs={};\n    el.refresh=()=>{\n      d=+el.getAttribute(\"data-diameter\");\n      let st=document.defaultView.getComputedStyle(el,null);\n      w=parseFloat(el.getAttribute(\"data-width\")||d||st.width);\n      h=parseFloat(el.getAttribute(\"data-height\")||d||st.height);\n      bg=el.getAttribute(\"data-bgcolor\")||op.bgcolor;\n      fg=el.getAttribute(\"data-fgcolor\")||op.fgcolor;\n      ik.sensex=ik.sensey=200;\n      if(el.className.indexOf(\"input-knob\")>=0)\n        ik.itype=\"k\";\n      else{\n        if(w>=h){\n          ik.itype=\"h\";\n          ik.sensex=w-h;\n          ik.sensey=Infinity;\n          el.style.backgroundSize=\"auto 100%\";\n        }\n        else{\n          ik.itype=\"v\";\n          ik.sensex=Infinity;\n          ik.sensey=h-w;\n          el.style.backgroundSize=\"100% auto\";\n        }\n      }\n      el.style.width=w+\"px\";\n      el.style.height=h+\"px\";\n      ik.frameheight=h;\n      let src=el.getAttribute(\"data-src\");\n      if(src){\n        el.style.backgroundImage=`url(${src})`;\n        let sp=+el.getAttribute(\"data-sprites\");\n        if(sp)\n          ik.sprites=sp;\n        else\n          ik.sprites=0;\n        if(ik.sprites>=1)\n          el.style.backgroundSize=`100% ${(ik.sprites+1)*100}%`;\n        else if(ik.itype!=\"k\"){\n          el.style.backgroundColor=bg;\n          el.style.borderRadius=Math.min(w,h)*0.25+\"px\";\n        }\n      }\n      else{\n        let svg;\n        switch(ik.itype){\n        case \"k\": svg=makeKnobFrames(101,fg,bg); break;\n        case \"h\": svg=makeHSliderFrames(101,fg,bg,w,h); break;\n        case \"v\": svg=makeVSliderFrames(101,fg,bg,w,h); break;\n        }\n        ik.sprites=100;\n        el.style.backgroundImage=\"url(data:image/svg+xml;base64,\"+btoa(svg)+\")\";\n        el.style.backgroundSize=`100% ${(ik.sprites+1)*100}%`;\n      }\n      ik.valrange={min:+el.min, max:(el.max==\"\")?100:+el.max, step:(el.step==\"\")?1:+el.step};\n      el.redraw(true);\n    };\n    el.setValue=(v)=>{\n      v=(Math.round((v-ik.valrange.min)/ik.valrange.step))*ik.valrange.step+ik.valrange.min;\n      if(v<ik.valrange.min) v=ik.valrange.min;\n      if(v>ik.valrange.max) v=ik.valrange.max;\n      el.value=v;\n      if(el.value!=ik.oldvalue){\n        el.setAttribute(\"value\",el.value);\n        el.redraw();\n        let event=document.createEvent(\"HTMLEvents\");\n        event.initEvent(\"input\",false,true);\n        el.dispatchEvent(event);\n        ik.oldvalue=el.value;\n      }\n    };\n    ik.pointerdown=(ev)=>{\n      el.focus();\n      if(ev.touches)\n        ev = ev.touches[0];\n      let rc=el.getBoundingClientRect();\n      let cx=(rc.left+rc.right)*0.5,cy=(rc.top+rc.bottom)*0.5;\n      let dx=ev.clientX,dy=ev.clientY;\n      let da=Math.atan2(ev.clientX-cx,cy-ev.clientY);\n      if(ik.itype==\"k\"&&op.knobMode==\"circularabs\"){\n        dv=ik.valrange.min+(da/Math.PI*0.75+0.5)*(ik.valrange.max-ik.valrange.min);\n        el.setValue(dv);\n      }\n      if(ik.itype!=\"k\"&&op.sliderMode==\"abs\"){\n        dv=(ik.valrange.min+ik.valrange.max)*0.5+((dx-cx)/ik.sensex-(dy-cy)/ik.sensey)*(ik.valrange.max-ik.valrange.min);\n        el.setValue(dv);\n      }\n      ik.dragfrom={x:ev.clientX,y:ev.clientY,a:Math.atan2(ev.clientX-cx,cy-ev.clientY),v:+el.value};\n      document.addEventListener(\"mousemove\",ik.pointermove);\n      document.addEventListener(\"mouseup\",ik.pointerup);\n      document.addEventListener(\"touchmove\",ik.pointermove);\n      document.addEventListener(\"touchend\",ik.pointerup);\n      document.addEventListener(\"touchcancel\",ik.pointerup);\n      document.addEventListener(\"touchstart\",ik.preventScroll);\n      ev.preventDefault();\n      ev.stopPropagation();\n    };\n    ik.pointermove=(ev)=>{\n      let dv;\n      let rc=el.getBoundingClientRect();\n      let cx=(rc.left+rc.right)*0.5,cy=(rc.top+rc.bottom)*0.5;\n      if(ev.touches)\n        ev = ev.touches[0];\n      let dx=ev.clientX-ik.dragfrom.x,dy=ev.clientY-ik.dragfrom.y;\n      let da=Math.atan2(ev.clientX-cx,cy-ev.clientY);\n      switch(ik.itype){\n      case \"k\":\n        switch(op.knobMode){\n        case \"linear\":\n          dv=(dx/ik.sensex-dy/ik.sensey)*(ik.valrange.max-ik.valrange.min);\n          if(ev.shiftKey)\n            dv*=0.2;\n          el.setValue(ik.dragfrom.v+dv);\n          break;\n        case \"circularabs\":\n          if(!ev.shiftKey){\n            dv=ik.valrange.min+(da/Math.PI*0.75+0.5)*(ik.valrange.max-ik.valrange.min);\n            el.setValue(dv);\n            break;\n          }\n        case \"circularrel\":\n          if(da>ik.dragfrom.a+Math.PI) da-=Math.PI*2;\n          if(da<ik.dragfrom.a-Math.PI) da+=Math.PI*2;\n          da-=ik.dragfrom.a;\n          dv=da/Math.PI/1.5*(ik.valrange.max-ik.valrange.min);\n          if(ev.shiftKey)\n            dv*=0.2;\n          el.setValue(ik.dragfrom.v+dv);\n        }\n        break;\n      case \"h\":\n      case \"v\":\n        dv=(dx/ik.sensex-dy/ik.sensey)*(ik.valrange.max-ik.valrange.min);\n        if(ev.shiftKey)\n          dv*=0.2;\n        el.setValue(ik.dragfrom.v+dv);\n        break;\n      }\n    };\n    ik.pointerup=()=>{\n      document.removeEventListener(\"mousemove\",ik.pointermove);\n      document.removeEventListener(\"touchmove\",ik.pointermove);\n      document.removeEventListener(\"mouseup\",ik.pointerup);\n      document.removeEventListener(\"touchend\",ik.pointerup);\n      document.removeEventListener(\"touchcancel\",ik.pointerup);\n      document.removeEventListener(\"touchstart\",ik.preventScroll);\n      let event=document.createEvent(\"HTMLEvents\");\n      event.initEvent(\"change\",false,true);\n      el.dispatchEvent(event);\n    };\n    ik.preventScroll=(ev)=>{\n      ev.preventDefault();\n    };\n    ik.keydown=()=>{\n      el.redraw();\n    };\n    ik.wheel=(ev)=>{\n      let delta=ev.deltaY>0?-ik.valrange.step:ik.valrange.step;\n      if(!ev.shiftKey)\n        delta*=5;\n      el.setValue(+el.value+delta);\n      ev.preventDefault();\n      ev.stopPropagation();\n    };\n    el.redraw=(f)=>{\n      if(f||ik.valueold!=el.value){\n        let v=(el.value-ik.valrange.min)/(ik.valrange.max-ik.valrange.min);\n        if(ik.sprites>=1)\n          el.style.backgroundPosition=\"0px \"+(-((v*ik.sprites)|0)*ik.frameheight)+\"px\";\n        else{\n          switch(ik.itype){\n          case \"k\":\n            el.style.transform=\"rotate(\"+(270*v-135)+\"deg)\";\n            break;\n          case \"h\":\n            el.style.backgroundPosition=((w-h)*v)+\"px 0px\";\n            break;\n          case \"v\":\n            el.style.backgroundPosition=\"0px \"+(h-w)*(1-v)+\"px\";\n            break;\n          }\n        }\n        ik.valueold=el.value;\n      }\n    };\n    el.refresh();\n    el.redraw(true);\n    el.addEventListener(\"keydown\",ik.keydown);\n    el.addEventListener(\"mousedown\",ik.pointerdown);\n    el.addEventListener(\"touchstart\",ik.pointerdown);\n    el.addEventListener(\"wheel\",ik.wheel);\n  }\n  let refreshque=()=>{\n    let elem=document.querySelectorAll(\"input.input-knob,input.input-slider\");\n    for(let i=0;i<elem.length;++i)\n      procque.push([initKnobs,elem[i]]);\n    elem=document.querySelectorAll(\"input[type=checkbox].input-switch,input[type=radio].input-switch\");\n    for(let i=0;i<elem.length;++i){\n      procque.push([initSwitches,elem[i]]);\n    }\n  }\n  let procque=[];\n  refreshque();\n  setInterval(()=>{\n    for(let i=0;procque.length>0&&i<8;++i){\n      let q=procque.shift();\n      q[0](q[1]);\n    }\n    if(procque.length<=0)\n      refreshque();\n  },50);\n});\n"]}